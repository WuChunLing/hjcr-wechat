<link href="css/deleteModel.css" rel="stylesheet" />
<div id="profit-container" style="width:600px" ng-controller="profitCtrl">

  <div class="well with-header  with-footer">
    <div class="header bg-blue">推广分润管理</div>
    <table class="table table-striped table-hover table-bordered">
          <thead>
              <tr role="row">
                <th>代理级别</th>
                <th>优惠券面额（元）</th>
                <th></th>
              </tr>
          </thead>

          <tbody>
              <tr>
                  <td>一级代理</td>
                  <td>
                    <span ng-show="!ifEditExFirst" class="profit-num">{{voucher[0].voucherMoney}}</span>
                    <input ng-show="ifEditExFirst"  id="save-exFirst" type="number" min="0" value="{{voucher[0].voucherMoney}}">
                  </td>
                  <td data-num="{{voucher[0].voucherMoney}}">
                      <a ng-show="!ifEditExFirst" ng-click="editExFirst()" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> 修改</a>
                      <a ng-show="ifEditExFirst" ng-click="saveditExFirst()" class="btn btn-success btn-xs save"><i class="fa fa-save"></i> 确认</a>
                      <a ng-show="ifEditExFirst" ng-click="editExFirst()" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> 取消</a>
                  </td>
              </tr>
              <tr>
                  <td>二级代理</td>
                  <td>
                    <span ng-show="!ifEditExSecond" class="profit-num">{{voucher[1].voucherMoney}}</span>
                    <input ng-show="ifEditExSecond"  id="save-exSecond" type="number" min="0" value="{{voucher[1].voucherMoney}}">
                  </td>
                  <td data-num="{{voucher[1].voucherMoney}}">
                      <a ng-show="!ifEditExSecond" ng-click="editExSecond()" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> 修改</a>
                      <a ng-show="ifEditExSecond" ng-click="saveditExSecond()" class="btn btn-success btn-xs save"><i class="fa fa-save"></i> 确认</a>
                      <a ng-show="ifEditExSecond" ng-click="editExSecond()" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> 取消</a>
                  </td>
              </tr>
          </tbody>
      </table>

      <div class="footer">
          用于发展下线代理的优惠券回报
      </div>
  </div>

  <div class="well with-header  with-footer">
    <div class="header bg-darkorange">销售分润管理</div>
    <table class="table table-striped table-hover table-bordered">
          <thead>
              <tr role="row">
                <th>代理级别</th>
                <th>分配比例</th>
                <th>    </th>
              </tr>
          </thead>

          <tbody>
              <tr>
                  <td>一级代理</td>
                  <td>
                    <input ng-show="ifEditOrderFirst"  id="save-orderFirst" type="number" min="0" max="100" value="{{location.orderMoneyFirst*100}}">
                    <span ng-show="!ifEditOrderFirst" class="profit-num">{{location.orderMoneyFirst*100}}</span><span>%</span>
                  </td>
                  <td data-num="{{location.orderMoneyFirst}}">
                      <a ng-show="!ifEditOrderFirst" ng-click="editOrderFirst()" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> 修改</a>
                      <a ng-show="ifEditOrderFirst" ng-click="savedOrderFirst()" class="btn btn-success btn-xs save"><i class="fa fa-save"></i> 确认</a>
                      <a ng-show="ifEditOrderFirst" ng-click="editOrderFirst()" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> 取消</a>
                  </td>
              </tr>
              <tr>
                  <td>二级代理</td>
                  <td>
                    <input ng-show="ifEditOrderSecond"  id="save-orderSecond" type="number" min="0" max="100" value="{{location.orderMoneySecond*100}}">
                    <span ng-show="!ifEditOrderSecond" class="profit-num">{{location.orderMoneySecond*100}}</span><span>%</span>
                  </td>
                  <td data-num="{{location.orderMoneySecond}}">
                      <a ng-show="!ifEditOrderSecond" ng-click="editOrderSecond()" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> 修改</a>
                      <a ng-show="ifEditOrderSecond" ng-click="savedOrderSecond()" class="btn btn-success btn-xs save"><i class="fa fa-save"></i> 确认</a>
                      <a ng-show="ifEditOrderSecond" ng-click="editOrderSecond()" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> 取消</a>
                  </td>
              </tr>
          </tbody>
      </table>

      <div class="footer">
          销售利润提成分配
      </div>
  </div>

  <div class="well with-header  with-footer">
    <div class="header bg-palegreen">销售提成率</div>
    <!-- <a id="editabledatatable_new" ng-click="addNewGoods()" href="javascript:void(0);" class="btn btn-default" style="margin-bottom:10px;"><i class="fa fa-plus"></i>添加新的商品类别</a> -->
    <table  class="table table-striped table-hover table-bordered">
        <thead>
            <tr role="row">
                <th>商品类别</th>
                <th>提成率</th>
                <th>    </th>
            </tr>
        </thead>
        <tbody id="goods-distribution" >
            <tr ng-repeat="goods in productions" key={{goods.orderMoneyId}}>
                <td>
                  <span ng-if="!goods.editActive">{{goods.orderMoneyName}}</span>
                  <input ng-model="goods.newOrderMoneyName" ng-if="goods.editActive" type="text" minlength="1" maxlength="8" ng-init="goods.newOrderMoneyName=goods.orderMoneyName">
                </td>
                <td>
                  <input ng-model="goods.newOrderMoneyDistribution" ng-if="goods.editActive" type="number" min="0" max="100" ng-init="goods.newOrderMoneyDistribution=goods.orderMoneyDistribution*100">
                  <span ng-if="!goods.editActive">{{goods.orderMoneyDistribution*100}}</span><span>%</span>
                </td>
                <td>
                    <a ng-if="!goods.editActive" class="btn btn-info btn-xs updateGoods edit " key={{goods.orderMoneyId}} ng-click="updateGoods($index,goods.orderMoneyId)"><i class="fa fa-edit"></i> 修改</a>
                    <a ng-if="!goods.editActive" class="btn btn-danger btn-xs delete" ng-click="showDelModel(goods.orderMoneyId)"><i class="fa fa-trash-o"></i> 删除</a>
                    <a ng-if="goods.editActive"  ng-click="sureupdateGoods($index,goods.orderMoneyId)" class="btn btn-success btn-xs save"><i class="fa fa-save"></i> 确认</a>
                    <a ng-if="goods.editActive"  ng-click="updateGoods($index,goods.orderMoneyId)" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> 取消</a>
                </td>
            </tr>
        </tbody>
    </table>
      <div class="footer">
          销售利润提成百分比
      </div>
  </div>
  <!-- 删除确认弹框 -->
  <div class="modal-preview"  ng-class="showModal?'show':'noshow'">
    <div class="modal modal-primary">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" ng-click="closeModel()" data-dismiss="modal" aria-hidden="true">×</button>
            <h4 class="modal-title">删除模板</h4>
          </div>
          <div class="modal-body">
            <p>确认删除此模板？</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-warning" data-dismiss="modal" ng-click="closeModel()">取消</button>
            <button type="button" class="btn btn-primary" ng-click="deleteGoods()">确认</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="mask" ng-class="showModal?'show':'noshow'"></div>
</div>
